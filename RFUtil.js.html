<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Source: RFUtil.js - Homey RFDriver</title>

  <meta property="og:image" content="https://etc.athom.com/logo/white/256.png" />
  <link rel="icon" href="https://etc.athom.com/logo/transparent/128.png" />
  <link rel="icon" type="image/png" href="https://etc.athom.com/logo/transparent/128.png" />
  <link rel="preload" as="image" href="images/logo.png">
  <link rel="preload" href="styles/homey.min.css" as="style">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link rel="preconnect" href="styles/atom-one-light.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;700&family=Roboto:wght@100;300;400;500;700&display=swap"
        rel="stylesheet">
  <link type="text/css" rel="stylesheet" href="styles/homey.min.css">
</head>

<body>
<div class="container">
  <nav class="navigation container__navigation component">
    <header class="navigation__header">
                <div class="navigation__logo"><a href="index.html"><img class="display-block" src="images/logo.png" width="40" height="40" alt="Homey"></a></div>
                <h2 class="navigation__title"><a href="index.html">Homey RFDriver</a></h2>
                <button data-navigation-toggle class="navigation__button" title="menu"></button>
             </header><div class="navigation__content" data-navigation-target><div class="navigation__search search">
            <input title="filter" placeholder="Filter..." data-navigation-search class="search__input" type="search">
            <button data-navigation-search-reset class="search__reset --mask" type="button" title="Reset"></button>
           </div><div data-navigation-scroll class="navigation__scroll scroll trim"><div class="navigation__menu trim"><nav class="nav-group"><h3 class="nav-group__title">Classes</h3><ul class="nav-group__list"><li data-lvl="0" data-search-key="rfdevice" class="nav-group__item"><a href="RFDevice.html"> RFDevice</a></li><li data-lvl="0" data-search-key="rfdriver" class="nav-group__item"><a href="RFDriver.html"> RFDriver</a></li><li data-lvl="0" data-search-key="rferror" class="nav-group__item"><a href="RFError.html"> RFError</a></li><li data-lvl="0" data-search-key="rfsignal" class="nav-group__item"><a href="RFSignal.html"> RFSignal</a></li><li data-lvl="0" data-search-key="rfutil" class="nav-group__item"><a href="RFUtil.html"> RFUtil</a></li></ul></nav></div></div></div>
  </nav>

  <main id="main" class="main container__main">
    
  
  
  <div class="main__center">
    <div class="main__content align-baseline">
      <h1 class="text-preset-heading-1">
        Source: RFUtil.js
      </h1>
      
    <section>
        <article>
            <pre class="source linenums"><code>/* eslint-disable node/no-unsupported-features/node-builtins */
/* eslint-disable no-restricted-globals */

'use strict';

const util = require('util');

/**
 * @hideconstructor
 */
class RFUtil {

  /**
   * @param a
   * @param b
   * @returns {boolean}
   */
  static deepEqual(a, b) {
    return util.isDeepStrictEqual(a, b);
  }

  /**
   * Generates a random base-2 bit array
   * @param {Number} length the length that the result array should have (e.g. 8 bits)
   * @example
   * // returns [0, 1, 1, 0, 0, 1]
   * RFUtil.generateRandomBitString(6);
   * @returns {Number[]} result The bitArray
   */
  static generateRandomBitString(length) {
    return new Array(length)
      .fill(null)
      .map(() => Math.round(Math.random()))
      .join('');
  }

  /**
   * Turns a bit string into a bit array
   * @param {String} inputBitString a bit string only containing numbers
   * @example
   * // returns [0, 1, 1, 2, 0, 1]
   * RFUtil.bitStringToBitArray('011201');
   * @returns {Number[]|Error} result The bitArray
   */
  static bitStringToBitArray(inputBitString) {
    const bitArray = inputBitString.split('').map(Number);
    if (bitArray.find(isNaN)) {
      throw new Error(`[Error] Bitstring (${inputBitString}) contains non-integer values`);
    }
    return bitArray;
  }


  /**
   * Turns a bit array into a bit string
   * @param {Number[]} inputBitArray a bit array only containing numbers
   * @example
   * // returns '011201'
   * RFUtil.bitArrayToString([0, 1, 1, 2, 0, 1]);
   * @returns {String|Error} result The bitString
   */
  static bitArrayToString(inputBitArray) {
    const bitArray = inputBitArray.map(Number);
    if (bitArray.find(isNaN)) {
      throw new Error(`[Error] Bitarray (${inputBitArray}) contains non-integer values`);
    }
    return bitArray.join('');
  }

  /**
   * Turns a bit array into a base-10 number
   * @param {Number[]} inputBitArray a bit array only containing the numbers 0 and 1
   * @example
   * // returns 25
   * RFUtil.bitArrayToNumber([0, 1, 1, 0, 0, 1]);
   * @returns {Number} result The number representation
   */
  static bitArrayToNumber(inputBitArray) {
    const bitArray = inputBitArray.map(Number);
    if (bitArray.find(nr => nr !== 0 &amp;&amp; nr !== 1)) {
      throw new Error(`[Error] Bitarray (${inputBitArray}) contains non-binary values`);
    }
    return parseInt(bitArray.join(''), 2);
  }

  /**
   * Turns a number into a bit array
   * @param {Number} inputNumber the number to turn into a base-2 bit array
   * @param {Number} length the length that the result array should have (e.g. 8 bits)
   * @example
   * // returns [0, 1, 1, 0, 0, 1]
   * RFUtil.numberToBitArray(25, 6);
   * @returns {Number[]} result The bitArray or a error object when invalid input is given
   */
  static numberToBitArray(inputNumber, length) {
    const number = Number(inputNumber);
    if (isNaN(number) || number % 1 !== 0) {
      throw new Error(`[Error] inputNumber (${inputNumber}) is a non-integer value`);
    }
    return number
      .toString(2)
      .padStart(length, '0')
      .slice(-length)
      .split('')
      .map(Number);
  }

  /**
   * Generates an UUID v4 String
   * @returns {String} uuid v4
   */
  static generateUUIDv4() {
    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {
      const r = Math.random() * 16 | 0; const
        v = c === 'x' ? r : ((r &amp; 0x3) | 0x8);
      return v.toString(16);
    });
  }

}

module.exports = RFUtil;
</code></pre>
        </article>
    </section>
    </div>
  </div>
  



  </main>
</div>

<script src="scripts/ready.js"></script>
<script src="scripts/navigation.js"></script>
<script src="scripts/toc.js"></script>
<script src="scripts/table.js"></script>

<link type="text/css" rel="stylesheet" href="styles/atom-one-light.css">
<script src="scripts/highlight.min.js"></script>
<!--<script src="scripts/linenumber.js"></script>-->


<script async defer src="https://sa.athom.com/latest.js"></script>

</body>
</html>
